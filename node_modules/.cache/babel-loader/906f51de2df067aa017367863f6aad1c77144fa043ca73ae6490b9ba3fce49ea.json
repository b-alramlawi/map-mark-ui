{"ast":null,"code":"import _defineProperty from\"C:/Projects/NodeJSProjects/map-mark-ui/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Projects/NodeJSProjects/map-mark-ui/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"C:/Projects/NodeJSProjects/map-mark-ui/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Projects/NodeJSProjects/map-mark-ui/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Projects/NodeJSProjects/map-mark-ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";// export default SignUpPage;\nimport React,{useState}from'react';import'../../styles/pages/authentication/SignUpStyle.css';import SuccessMessage from\"../../components/SuccessMessage\";import FailedMessage from\"../../components/FailedMessage\";import{useHistory}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function SignUpPage(){var history=useHistory();// Initialize useHistory\nvar _useState=useState({email:'',password:'',username:''}),_useState2=_slicedToArray(_useState,2),formData=_useState2[0],setFormData=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isRegistering=_useState4[0],setIsRegistering=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),registrationSuccess=_useState6[0],setRegistrationSuccess=_useState6[1];var handleFormSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();_context.prev=1;setIsRegistering(true);_context.next=5;return fetch('http://localhost:3000/api/auth/signup',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(formData)});case 5:response=_context.sent;if(response.ok){// Registration successful\nsetRegistrationSuccess(true);console.log('Registration successful');// Delay the redirection by 2 seconds\nsetTimeout(function(){history.push('/home');},2000);}else{// Registration failed\nsetRegistrationSuccess(false);console.error('Registration failed');}_context.next=13;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](1);console.error('Error:',_context.t0);setRegistrationSuccess(false);case 13:_context.prev=13;setIsRegistering(false);return _context.finish(13);case 16:case\"end\":return _context.stop();}},_callee,null,[[1,9,13,16]]);}));return function handleFormSubmit(_x){return _ref.apply(this,arguments);};}();var handleInputChange=function handleInputChange(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setFormData(_objectSpread(_objectSpread({},formData),{},_defineProperty({},name,value)));};return/*#__PURE__*/_jsx(\"div\",{className:\"signup-container\",style:{backgroundImage:\"url(\".concat(process.env.PUBLIC_URL,\"/map.png)\")},children:/*#__PURE__*/_jsxs(\"div\",{className:\"signup-form\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"form-title\",children:\"Signup\"}),registrationSuccess===true&&/*#__PURE__*/_jsx(SuccessMessage,{message:\"Registration successful!\"}),registrationSuccess===false&&/*#__PURE__*/_jsx(FailedMessage,{message:\"Registration failed. Please try again.\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleFormSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",name:\"email\",value:formData.email,onChange:handleInputChange,required:true,className:\"input-field\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",name:\"password\",value:formData.password,onChange:handleInputChange,required:true,className:\"input-field\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"username\",name:\"username\",value:formData.username,onChange:handleInputChange,required:true,className:\"input-field\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"submit-button\",disabled:isRegistering,children:isRegistering?'Registering...':'Register'})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"login-link\",children:[\"Already have an account? \",/*#__PURE__*/_jsx(\"a\",{href:\"/login\",children:\"Login\"})]})]})});}export default SignUpPage;","map":{"version":3,"names":["React","useState","SuccessMessage","FailedMessage","useHistory","jsx","_jsx","jsxs","_jsxs","SignUpPage","history","_useState","email","password","username","_useState2","_slicedToArray","formData","setFormData","_useState3","_useState4","isRegistering","setIsRegistering","_useState5","_useState6","registrationSuccess","setRegistrationSuccess","handleFormSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","response","wrap","_callee$","_context","prev","next","preventDefault","fetch","method","headers","body","JSON","stringify","sent","ok","console","log","setTimeout","push","error","t0","finish","stop","_x","apply","arguments","handleInputChange","_e$target","target","name","value","_objectSpread","_defineProperty","className","style","backgroundImage","concat","process","env","PUBLIC_URL","children","message","onSubmit","htmlFor","type","id","onChange","required","disabled","href"],"sources":["C:/Projects/NodeJSProjects/map-mark-ui/src/pages/authentication/SignUpPage.js"],"sourcesContent":["// export default SignUpPage;\r\n\r\nimport React, {useState} from 'react';\r\nimport '../../styles/pages/authentication/SignUpStyle.css';\r\nimport SuccessMessage from \"../../components/SuccessMessage\";\r\nimport FailedMessage from \"../../components/FailedMessage\";\r\nimport {useHistory} from 'react-router-dom';\r\n\r\n\r\nfunction SignUpPage() {\r\n    const history = useHistory(); // Initialize useHistory\r\n\r\n    const [formData, setFormData] = useState({\r\n        email: '',\r\n        password: '',\r\n        username: '',\r\n    });\r\n\r\n    const [isRegistering, setIsRegistering] = useState(false);\r\n    const [registrationSuccess, setRegistrationSuccess] = useState(null);\r\n    const handleFormSubmit = async (e) => {\r\n        e.preventDefault();\r\n\r\n        try {\r\n            setIsRegistering(true);\r\n            const response = await fetch('http://localhost:3000/api/auth/signup', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                },\r\n                body: JSON.stringify(formData),\r\n            });\r\n\r\n            if (response.ok) {\r\n                // Registration successful\r\n                setRegistrationSuccess(true);\r\n                console.log('Registration successful');\r\n\r\n                // Delay the redirection by 2 seconds\r\n                setTimeout(() => {\r\n                    history.push('/home');\r\n                }, 2000);\r\n            } else {\r\n                // Registration failed\r\n                setRegistrationSuccess(false);\r\n                console.error('Registration failed');\r\n            }\r\n        } catch (error) {\r\n            console.error('Error:', error);\r\n            setRegistrationSuccess(false);\r\n        } finally {\r\n            setIsRegistering(false);\r\n        }\r\n    };\r\n\r\n\r\n    const handleInputChange = (e) => {\r\n        const {name, value} = e.target;\r\n        setFormData({...formData, [name]: value});\r\n    };\r\n\r\n    return (\r\n        <div className=\"signup-container\" style={{backgroundImage: `url(${process.env.PUBLIC_URL}/map.png)`}}>\r\n            <div className=\"signup-form\">\r\n                <h2 className=\"form-title\">Signup</h2>\r\n                {registrationSuccess === true && (\r\n                    <SuccessMessage message=\"Registration successful!\"/>\r\n                )}\r\n                {registrationSuccess === false && (\r\n                    <FailedMessage message=\"Registration failed. Please try again.\"/>\r\n                )}\r\n                <form onSubmit={handleFormSubmit}>\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"email\">Email</label>\r\n                        <input\r\n                            type=\"email\"\r\n                            id=\"email\"\r\n                            name=\"email\"\r\n                            value={formData.email}\r\n                            onChange={handleInputChange}\r\n                            required\r\n                            className=\"input-field\"\r\n                        />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"password\">Password</label>\r\n                        <input\r\n                            type=\"password\"\r\n                            id=\"password\"\r\n                            name=\"password\"\r\n                            value={formData.password}\r\n                            onChange={handleInputChange}\r\n                            required\r\n                            className=\"input-field\"\r\n                        />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"username\">Username</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            id=\"username\"\r\n                            name=\"username\"\r\n                            value={formData.username}\r\n                            onChange={handleInputChange}\r\n                            required\r\n                            className=\"input-field\"\r\n                        />\r\n                    </div>\r\n                    <button type=\"submit\" className=\"submit-button\" disabled={isRegistering}>\r\n                        {isRegistering ? 'Registering...' : 'Register'}\r\n                    </button>\r\n                </form>\r\n                <p className=\"login-link\">\r\n                    Already have an account? <a href=\"/login\">Login</a>\r\n                </p>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default SignUpPage;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}